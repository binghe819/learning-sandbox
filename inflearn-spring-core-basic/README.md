# 스프링 코어 (김영한님 강의 정리)

<br>

# 스프링이 탄생하기까지

* EJB (Enterprise Java Beans)라는 자바 표준 기술이 존재했음.
  * 지금의 스프링과 JPA를 합친 것과 같은 종합선물세트.
  * 하지만 문제는 어렵고 복잡하고 느리다.
  * 더 큰 문제는 EJB에 의존적인 로직을 구현해야했으며 (EJB의 인터페이스들을 많이 구현해줘야했다), 이러한 코드가 이해하기도 어려웠다.
* EJB 지옥을 벗어나기위해 로스 존슨이 오픈소스를 만든다.
  * EJB 컨테이너를 대체하고 최대한 단순한 프레임워크를 만드는게 그게 바로 스프링이다.
  * 그리고 게빈 킹이 하이버네이트라는 EJB 엔티티빈을 대체할 오픈소스를 만든다. 그게 바로 하이버네이트다.
  * 두 오픈소스 모두 추후 자바 표준이된다.
* 스프링의 역사
  * 전설의 시작
    * 2002년 로드 존슨이 책을 출간하면서 시작된다.
    * 여기에 지금의 스프링 핵심 개념과 기반 코드가 들어있다. BeanFactory, ApplicationContext, POJO, 제어의 역전, 의존관계 주입등등.
    * 책 출간 직후 유겐 힐러, 얀 카로프가 로드 존슨에게 오픈소스 프로젝트를 제안한다.
    * 스프링 핵심 코드의 상당수는 유겐 힐러가 지금도 개발중.
    * 스프링 이름은 전통적인 J2EE (EJB)라는 겨울을 넘어 새로운 시작이라는 뜻으로 지음.
* 스프링 릴리즈
  * 2003년 스프링 프레임워크 1.0 출시 - XML
  * 2006년 스프링 프레임워크 2.0 출시 - XML 편의 기능 지원
  * 2009년 스프링 프레임워크 3.0 출시 - 자바 코드로 설정
  * 2013년 스프링 프레임워크 4.0 출시 - 자바 8
  * 2014년 스프링 부트 1.0 출시
  * 2017년 스프링 프레임워크 5.0, 스프링 부트 2.0 출시 - 리액티브 프로그래밍 지원
  * 2020년 9월 스프링 프레임워크 5.2.x, 스프링 부트 2.3.x

<br>

# 스프링이란

<br>

**스프링 생태계**

* 스프링은 하나가 아니라 여러가지 생태계를 가지고있다.
  * 필수
    * 스프링 프레임워크, 스프링 부트
  * 선택
    * 스프링 데이터
    * 스프링 세션
    * 스프링 시큐리티
    * 스프링 Rest Docs
    * 스프링 배치
    * 스프링 클라우드

<br>

**스프링 프레임워크**

* 핵심 기술: 스프링 DI 컨테이너, AOP, 이벤트, 기타
* 웹 기술: 스프링 MVC, 스프링 Webflux
* 데이터 접근 기술: 트랜잭션, JDBC, ORM 지원, XML 지원
* 기술 통합: 캐시, 이메일, 원격접근, 스케줄링
* 테스트: 스프링 기반 테스트 지원
* 언어: 코틀린, 그루비

<br>

**스프링을 왜 만들었는가?**

* 이 기술을 왜 만들었는가?
  * 
* 이 기술의 핵심 컨셉은?
  * 자바 언어 기반의 프레임워크
  * **자바 언어 가장 큰 특징 -> 객체지향언어**
  * **스프링은 객체 지향 언어가 가진 강력한 특징을 살려내는 프레임워크.**
  * 스프링은 좋은 객체 지향 애플리케이션을 개발할 수 있게 도와주는 프레임워크이다.

<br>

**좋은 객체 지향 특징**

* 추상화
* 캡슐화
* 상속
* 다형성

> SOLID 포함..

<br>

**객체지향 설계와 스프링**

* 스프링은 다음 기술로 다형성 + OCP, DIP를 가능하게 지원한다.
  * DI (Dependency Injection): 의존관계, 의존성 주입
  * DI 컨테이너 제공
* 클라이언트 코드의 변경 없이 기능 확장
* **모든 설계에 역할과 구현을 분리해야한다.**
* 애플리케이션 설계도 공연을 설계하듯이 배역만 만들어두고, 배우는 언제든이 유연하게 변경할 수 있도록 만드는 것이 좋은 객체 지향 설계다.
  * 이상적으로는 모든 설계에 인터페이스를 부여하자. 물론 다 인터페이스로 만들면, 추상화라는 비용이 발생한다. 기능을 확장할 가능성이 없다면, 구체 클래스를 직접 사용하고, 추후에 리팩터링을하자.

<br>

# 회원 도메인 요구사항

* 회원
  * 회원을 가입하고 조회할 수 있다.
  * 회원은 일반과 VIP 두 가지 등급이 있다.
  * 회원 데이터는 자체 DB를 구축할 수 있고, 외부 시스템과 연동할 수 있다. (미확정)
* 주문과 할인 정책
  * 회원은 상품을 주문할 수 있다.
  * 회원 등급에 따라 할인 정책을 적용할 수 있다.
  * 할인 정책은 모든 VIP는 1000원을 할인해주는 고정 금액 할인을 적용해달라. (나중에 변경 될 수 있다.) 할인 정책은 변경 가능성이 높다. 회사의 기본 할인 정책을 아직 정하지 못했고, 오픈 직전까지 고민을 미루 고 싶다. 최악의 경우 할인을 적용하지 않을 수 도 있다. (미확정)
  * 회원을 가입하고 조회할 수 있다.
  * 회원은 일반과 VIP 두 가지 등급이 있다.
  * 회원 데이터는 자체 DB를 구축할 수 있고, 외부 시스템과 연동할 수 있다. (미확정)


